import{s as F,j as f,k as V,g as K,l as k,c,a as t,b as i,h as z,i as o,d as P,w as x,o as m,q as O,v as W,E as d,z as J,n as M,A as u,B as v}from"./Bkm6qw8b.js";import{_ as G,a as H,b as C,c as I,d as Q}from"./BrFEKIuM.js";import{_ as X}from"./mvyRji1Y.js";import{_ as Y}from"./BAMzpvu1.js";import{_ as Z}from"./DleeVanq.js";import{u as tt}from"./3-evxN6m.js";import{u as et}from"./CI-DMe-d.js";import"./9Qm2jZ7z.js";const ot={class:"content-wrapper"},at={class:"container-xxl flex-grow-1 container-p-y"},lt={class:"row g-6"},st={class:"col-xl-4 col-lg-6 col-md-6"},it={class:"card h-100"},nt={class:"row h-100"},dt={class:"col-7"},rt={class:"card-body text-sm-end text-center ps-sm-0"},pt={class:"col-12"},ct={class:"card"},mt={class:"card-header d-flex justify-content-between align-items-center flex-wrap"},ut={class:"d-flex align-items-center me-3 mb-2 mb-md-0"},vt={class:"d-flex align-items-center"},gt={class:"btn-group me-2"},bt={class:"dropdown-menu"},ft={class:"input-group"},xt={class:"p-input-icon-left"},yt={class:"card-datatable table-responsive py-3 px-3"},wt=["src"],_t={key:1,class:"text-muted"},ht=["onClick"],Vt=["onClick"],kt={class:"row g-4"},Pt={class:"col-md-6"},Mt={class:"form-floating form-floating-outline"},Ct=["src"],Lt={class:"col-md-6"},Tt={class:"form-floating form-floating-outline"},jt={class:"col-md-6"},St={class:"form-floating form-floating-outline"},At={class:"col-md-6"},Nt={class:"form-floating form-floating-outline"},Rt={class:"col-md-12"},$t={class:"form-floating form-floating-outline"},Ut={class:"col-md-12"},Et={class:"form-floating form-floating-outline"},Dt={class:"modal-footer mt-6"},Bt=["disabled"],qt={key:0,class:"spinner-border spinner-border-sm","aria-hidden":"true"},Qt={__name:"vendor",setup(Ft){const n=tt(),{vendors:L,loading:y,totalRecords:T,params:g,form:l,isEditMode:w,showModal:j,validationErrors:S}=F(n),_=f(null),b=f(""),p=f(null),A=f([10,25,50,100]),N=V(()=>w.value?"Edit Vendor":"Tambah Vendor"),R=V(()=>w.value?"Ubah detail vendor.":"Isi untuk menambah vendor baru.");let r=null;K(()=>{n.fetchVendors();const s=document.getElementById("VendorModal");s&&(r=new bootstrap.Modal(s))}),k(j,s=>{s?(r==null||r.show(),w.value&&l.value.logo_url?p.value=l.value.logo_url:p.value=null):r==null||r.hide()});const $=et(()=>{n.setSearch(b.value)},500);k(b,$);const U=s=>n.setPagination(s),E=()=>{g.value.first=0,n.fetchVendors()},D=s=>n.setSort(s),h=s=>{s==="csv"&&_.value.exportCSV()};function B(s){const e=s.target.files[0];e?(l.value.logo=e,p.value=URL.createObjectURL(e)):(l.value.logo=null,p.value=null)}return(s,e)=>(m(),c("div",ot,[t("div",at,[e[28]||(e[28]=t("h4",{class:"mb-1"},"List Vendor",-1)),e[29]||(e[29]=t("p",{class:"mb-6"}," List vendor yang terdaftar di sistem ",-1)),t("div",lt,[e[19]||(e[19]=z('<div class="col-xl-4 col-lg-6 col-md-6"><div class="card"><div class="card-body"><div class="d-flex justify-content-between align-items-center mb-4"><p class="mb-0">Total 3 users</p><ul class="list-unstyled d-flex align-items-center avatar-group mb-0"><li data-bs-toggle="tooltip" data-popup="tooltip-custom" data-bs-placement="top" title="Kim Karlos" class="avatar pull-up"><img class="rounded-circle" src="'+G+'" alt="Avatar"></li><li data-bs-toggle="tooltip" data-popup="tooltip-custom" data-bs-placement="top" title="Katy Turner" class="avatar pull-up"><img class="rounded-circle" src="'+H+'" alt="Avatar"></li><li data-bs-toggle="tooltip" data-popup="tooltip-custom" data-bs-placement="top" title="Peter Adward" class="avatar pull-up"><img class="rounded-circle" src="'+C+'" alt="Avatar"></li><li class="avatar"><span class="avatar-initial rounded-circle pull-up bg-lighter text-body" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3 more">+3</span></li></ul></div><div class="d-flex justify-content-between align-items-center"><div class="pegawai-heading"><h5 class="mb-1">Support</h5><a href="javascript:;" data-bs-toggle="modal" data-bs-target="#PegawaiModal" class="pegawai-edit-modal"></a></div><a href="javascript:void(0);" class="text-secondary"><i class="ri-file-copy-line ri-22px"></i></a></div></div></div></div><div class="col-xl-4 col-lg-6 col-md-6"><div class="card"><div class="card-body"><div class="d-flex justify-content-between align-items-center mb-4"><p class="mb-0">Total 2 users</p><ul class="list-unstyled d-flex align-items-center avatar-group mb-0"><li data-bs-toggle="tooltip" data-popup="tooltip-custom" data-bs-placement="top" title="Kim Merchent" class="avatar pull-up"><img class="rounded-circle" src="'+I+'" alt="Avatar"></li><li data-bs-toggle="tooltip" data-popup="tooltip-custom" data-bs-placement="top" title="Sam D&#39;souza" class="avatar pull-up"><img class="rounded-circle" src="'+Q+'" alt="Avatar"></li><li data-bs-toggle="tooltip" data-popup="tooltip-custom" data-bs-placement="top" title="Nurvi Karlos" class="avatar pull-up"><img class="rounded-circle" src="'+C+'" alt="Avatar"></li><li class="avatar"><span class="avatar-initial rounded-circle pull-up bg-lighter text-body" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3 more">+3</span></li></ul></div><div class="d-flex justify-content-between align-items-center"><div class="pegawai-heading"><h5 class="mb-1">Restricted User</h5><a href="javascript:;" data-bs-toggle="modal" data-bs-target="#PegawaiModal" class="pegawai-edit-modal"></a></div><a href="javascript:void(0);" class="text-secondary"><i class="ri-file-copy-line ri-22px"></i></a></div></div></div></div>',2)),t("div",st,[t("div",it,[t("div",nt,[e[14]||(e[14]=t("div",{class:"col-5"},[t("div",{class:"d-flex align-items-end h-100 justify-content-center"},[t("img",{src:X,class:"img-fluid",alt:"Image",width:"68"})])],-1)),t("div",dt,[t("div",rt,[t("button",{class:"btn btn-sm btn-primary mb-4 ml-5 textwrap add-new-pegawai",onClick:e[0]||(e[0]=a=>o(n).openModal())}," Tambah Vendor ")])])])])]),e[20]||(e[20]=t("div",{class:"col-12"},[t("h4",{class:"mt-6 mb-1"},"Total Vendor"),t("p",{class:"mb-0"},"Find all of your company's administrator accounts and their associate Vendor.")],-1)),t("div",pt,[t("div",ct,[t("div",mt,[t("div",ut,[e[15]||(e[15]=t("span",{class:"me-2"},"Baris:",-1)),i(o(O),{modelValue:o(g).rows,"onUpdate:modelValue":e[1]||(e[1]=a=>o(g).rows=a),options:A.value,onChange:E,placeholder:"Jumlah",style:{width:"8rem"}},null,8,["modelValue","options"])]),t("div",vt,[t("div",gt,[e[16]||(e[16]=t("button",{class:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"ri-upload-2-line me-1"}),P(" Export ")],-1)),t("ul",bt,[t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[2]||(e[2]=a=>h("csv"))},"CSV")]),t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:e[3]||(e[3]=a=>h("pdf"))},"PDF")])])]),t("div",ft,[t("span",xt,[i(o(W),{modelValue:b.value,"onUpdate:modelValue":e[4]||(e[4]=a=>b.value=a),placeholder:"Cari vendor...",class:"w-full md:w-20rem"},null,8,["modelValue"])])])])]),t("div",yt,[i(Z,{ref_key:"myDataTableRef",ref:_,data:o(L),rows:o(g).rows,loading:o(y),totalRecords:o(T),lazy:!0,onPage:e[5]||(e[5]=a=>U(a)),onSort:e[6]||(e[6]=a=>D(a)),responsiveLayout:"scroll",paginatorPosition:"bottom",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",currentPageReportTemplate:"Menampilkan {first} sampai {last} dari {totalRecords} data"},{default:x(()=>[i(o(d),{field:"id",header:"#",sortable:!0}),i(o(d),{field:"logo",header:"Logo",sortable:!1},{body:x(a=>[a.data.logo_url?(m(),c("img",{key:0,src:a.data.logo_url,alt:"Logo",style:{height:"40px","max-width":"80px","object-fit":"contain"}},null,8,wt)):(m(),c("span",_t,"No Logo"))]),_:1}),i(o(d),{field:"name",header:"Nama Vendor",sortable:!0}),i(o(d),{field:"address",header:"Alamat Vendor",sortable:!0}),i(o(d),{field:"npwp",header:"NPWP Vendor",sortable:!0}),i(o(d),{field:"email",header:"Email Vendor",sortable:!0}),i(o(d),{field:"phone",header:"Phone Vendor",sortable:!0}),i(o(d),{header:"Actions",exportable:!1,style:{"min-width":"8rem"}},{body:x(a=>[t("button",{onClick:q=>o(n).openModal(a.data),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon me-2"},e[17]||(e[17]=[t("i",{class:"ri-edit-box-line ri-20px"},null,-1)]),8,ht),t("button",{onClick:q=>o(n).deleteVendor(a.data.id),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon"},e[18]||(e[18]=[t("i",{class:"ri-delete-bin-7-line ri-20px"},null,-1)]),8,Vt)]),_:1})]),_:1},8,["data","rows","loading","totalRecords"])])])])]),i(Y,{id:"VendorModal",title:N.value,description:R.value,"validation-errors-from-parent":o(S)},{default:x(()=>[t("form",{onSubmit:e[13]||(e[13]=J(a=>o(n).saveVendor(),["prevent"]))},[t("div",kt,[t("div",Pt,[t("div",Mt,[t("input",{type:"file",class:"form-control",onChange:B},null,32),e[21]||(e[21]=t("label",null,"Logo Vendor",-1)),p.value?(m(),c("img",{key:0,src:p.value,alt:"Preview",class:"mt-2",style:{"max-height":"100px"}},null,8,Ct)):M("",!0)])]),t("div",Lt,[t("div",Tt,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=a=>o(l).name=a),placeholder:"Masukkan nama vendor",required:""},null,512),[[v,o(l).name]]),e[22]||(e[22]=t("label",null,"Nama Vendor",-1))])]),t("div",jt,[t("div",St,[u(t("input",{type:"email",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>o(l).email=a),placeholder:"Masukkan email vendor",required:""},null,512),[[v,o(l).email]]),e[23]||(e[23]=t("label",null,"Email Vendor",-1))])]),t("div",At,[t("div",Nt,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=a=>o(l).phone=a),placeholder:"Masukkan no. telp vendor",required:""},null,512),[[v,o(l).phone]]),e[24]||(e[24]=t("label",null,"No. Telp Vendor",-1))])]),t("div",Rt,[t("div",$t,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=a=>o(l).npwp=a),placeholder:"Masukkan npwp vendor",required:""},null,512),[[v,o(l).npwp]]),e[25]||(e[25]=t("label",null,"NPWP Vendor",-1))])]),t("div",Ut,[t("div",Et,[u(t("textarea",{class:"form-control h-px-100",placeholder:"Alamat Vendor","onUpdate:modelValue":e[11]||(e[11]=a=>o(l).address=a)},"                                    ",512),[[v,o(l).address]]),e[26]||(e[26]=t("label",null,"Alamat Vendor",-1))])])]),t("div",Dt,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[12]||(e[12]=a=>o(n).closeModal())},"Tutup"),t("button",{type:"submit",class:"btn btn-primary",disabled:o(y)},[o(y)?(m(),c("span",qt)):M("",!0),e[27]||(e[27]=P(" Simpan "))],8,Bt)])],32)]),_:1},8,["title","description","validation-errors-from-parent"])]),e[30]||(e[30]=t("div",{class:"content-backdrop fade"},null,-1))]))}};export{Qt as default};
