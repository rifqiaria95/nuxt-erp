import{_ as O,j as _,s as q,k as C,g as z,l as P,c as d,a as e,b as a,i as s,F as H,w as f,d as c,o as r,q as J,v as K,E as m,y as Q,t as S,n as y,z as W,A as w,B as M}from"./Bkm6qw8b.js";import{_ as X}from"./mvyRji1Y.js";import{_ as Y}from"./X_GiR0ue.js";import{u as Z}from"./C2Vu3uzx.js";import{_ as ee}from"./BAMzpvu1.js";import{_ as te}from"./DleeVanq.js";import{C as T}from"./D9zIpW-x.js";import{u as se}from"./Ca1Fz0tn.js";import{u as oe}from"./CI-DMe-d.js";import"./9Qm2jZ7z.js";import"./Drh9hcrB.js";import"./u26IMBn3.js";const ae={class:"content-wrapper"},le={class:"container-xxl flex-grow-1 container-p-y"},ne={key:0,class:"text-center"},ie={key:0},de={class:"row g-6 mb-6"},re={class:"col-xl-4 col-lg-6 col-md-6"},ue={class:"card h-100"},me={class:"row h-100"},pe={class:"col-sm-7"},ce={class:"card-body text-sm-end text-center ps-sm-0"},fe={class:"row g-6"},be={class:"col-12"},ve={class:"card"},ge={class:"card-header d-flex justify-content-between align-items-center flex-wrap"},_e={class:"d-flex align-items-center me-3 mb-2 mb-md-0"},ye={class:"d-flex align-items-center"},ke={class:"p-input-icon-left"},we={class:"card-datatable table-responsive py-3 px-3"},Me={class:"d-inline-block"},he={class:"dropdown-menu"},xe={key:0},De=["onClick"],Ve={key:1},Ce=["onClick"],Pe={key:1,class:"text-center"},Se={class:"d-flex flex-column align-items-center"},Te={class:"row g-6 p-3"},Re={class:"col-md-6"},$e={class:"form-floating form-floating-outline"},Le={class:"col-md-6"},Ne={class:"form-floating form-floating-outline"},Be={class:"col-md-6"},Ee={class:"form-floating form-floating-outline"},Ue={class:"col-md-6"},Fe={class:"form-floating form-floating-outline"},Ge={class:"col-md-12"},je={class:"form-floating form-floating-outline"},Ae={key:0,class:"small text-muted"},Ie={class:"modal-footer mt-6"},Oe=["disabled"],qe={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ze={__name:"menu-detail",setup(He){const R=_(null),l=Z(),{menuDetails:h,menuGroups:k,loading:b,totalRecords:$,params:p,form:n,isEditMode:x,showModal:L,validationErrors:N}=q(l),{userHasPermission:D}=se(),v=_(""),B=_([10,25,50,100]),E=_([{label:"Aktif",value:1},{label:"Nonaktif",value:0}]),U=C(()=>x.value?"Edit Menu Detail":"Tambah Menu Detail"),F=C(()=>x.value?"Ubah detail menu.":"Isi untuk menambah menu detail baru.");let u=null;z(()=>{l.fetchMenuDetails();const i=document.getElementById("MenuDetailModal");i&&(u=new bootstrap.Modal(i))}),P(L,i=>{i?u==null||u.show():u==null||u.hide()});const G=oe(()=>{l.setSearch(v.value)},500);P(v,G);const j=i=>l.setPagination(i),A=()=>{p.value.first=0,l.fetchMenuDetails()},I=i=>l.setSort(i),V=i=>{switch(i){case 1:return{text:"Aktif",class:"badge rounded-pill bg-label-primary"};case 0:return{text:"Nonaktif",class:"badge rounded-pill bg-label-danger"};default:return{text:"-",class:"badge rounded-pill bg-label-light"}}};return(i,t)=>(r(),d("div",ae,[e("div",le,[s(b)?(r(),d("div",ne,t[14]||(t[14]=[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)]))):(r(),d(H,{key:1},[s(h).length>0?(r(),d("div",ie,[t[22]||(t[22]=e("h4",{class:"mb-1"},"List Menu Detail",-1)),t[23]||(t[23]=e("p",{class:"mb-6"}," List menu detail yang terdaftar di sistem ",-1)),e("div",de,[e("div",re,[e("div",ue,[e("div",me,[t[16]||(t[16]=e("div",{class:"col-sm-5"},[e("div",{class:"d-flex align-items-end h-100 justify-content-center"},[e("img",{src:X,class:"img-fluid",alt:"Image",width:"70"})])],-1)),e("div",pe,[e("div",ce,[e("button",{onClick:t[0]||(t[0]=o=>s(l).openModal()),class:"btn btn-primary mb-2 text-nowrap add-new-role"}," Tambah Menu Detail "),t[15]||(t[15]=e("p",{class:"mb-0 mt-1"},"Buat Menu Detail baru",-1))])])])])])]),e("div",fe,[t[21]||(t[21]=e("div",{class:"col-12"},[e("h4",{class:"mt-6 mb-1"},"Total Menu Detail"),e("p",{class:"mb-0"},"Find all of your company's administrator accounts and their associate Menu Detail.")],-1)),e("div",be,[e("div",ve,[e("div",ge,[e("div",_e,[t[17]||(t[17]=e("span",{class:"me-2"},"Baris:",-1)),a(s(J),{modelValue:s(p).rows,"onUpdate:modelValue":t[1]||(t[1]=o=>s(p).rows=o),options:B.value,onChange:A,placeholder:"Jumlah",style:{width:"8rem"}},null,8,["modelValue","options"])]),e("div",ye,[e("span",ke,[a(s(K),{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=o=>v.value=o),placeholder:"Cari Menu Detail...",class:"w-full md:w-20rem"},null,8,["modelValue"])])])]),e("div",we,[a(te,{ref_key:"myDataTableRef",ref:R,data:s(h),rows:s(p).rows,loading:s(b),totalRecords:s($),lazy:!0,"sort-field":s(p).sortField,"sort-order":s(p).sortOrder,"sort-mode":"single",onPage:t[3]||(t[3]=o=>j(o)),onSort:t[4]||(t[4]=o=>I(o)),paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",currentPageReportTemplate:"Menampilkan {first} sampai {last} dari {totalRecords} data"},{default:f(()=>[a(s(m),{field:"id",header:"#",sortable:!0}),a(s(m),{field:"name",header:"Nama Menu Detail",sortable:!0}),a(s(m),{field:"route",header:"Route",sortable:!0}),a(s(m),{field:"order",header:"Order",sortable:!0}),a(s(m),{field:"status",header:"Status",sortable:!0},{body:f(o=>[e("span",{class:Q(V(o.data.status).class)},S(V(o.data.status).text),3)]),_:1}),a(s(m),{field:"menuGroupId",header:"Menu Group",sortable:!0},{body:f(o=>{var g;return[e("span",null,S(((g=o.data.menuGroup)==null?void 0:g.name)||"-"),1)]}),_:1}),a(s(m),{header:"Actions",exportable:!1,style:{"min-width":"8rem"}},{body:f(o=>[e("div",Me,[t[20]||(t[20]=e("a",{href:"javascript:;",class:"btn btn-sm btn-text-secondary rounded-pill btn-icon dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[e("i",{class:"ri-more-2-fill"})],-1)),e("ul",he,[s(D)("edit_menu_detail")?(r(),d("li",xe,[e("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:g=>s(l).openModal(o.data)},t[18]||(t[18]=[e("i",{class:"ri-edit-box-line me-2"},null,-1),c(" Edit ")]),8,De)])):y("",!0),s(D)("delete_menu_detail")?(r(),d("li",Ve,[e("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:g=>s(l).deleteMenuDetail(o.data.id)},t[19]||(t[19]=[e("i",{class:"ri-delete-bin-7-line me-2"},null,-1),c(" Delete ")]),8,Ce)])):y("",!0)])])]),_:1})]),_:1},8,["data","rows","loading","totalRecords","sort-field","sort-order"])])])])])])):(r(),d("div",Pe,[e("div",Se,[t[25]||(t[25]=e("img",{src:Y,alt:"page-misc-under-maintenance",width:"300",class:"img-fluid"},null,-1)),t[26]||(t[26]=e("h4",{class:"mt-4"},"Tidak ada data Menu Detail",-1)),t[27]||(t[27]=e("p",{class:"mb-4"},[c(" Saat ini belum ada data menu detail yang tersedia."),e("br"),c(" Silakan buat menu detail baru untuk memulai. ")],-1)),e("button",{onClick:t[5]||(t[5]=o=>s(l).openModal()),class:"btn btn-primary"},t[24]||(t[24]=[e("i",{class:"ri-add-line me-1"},null,-1),c(" Tambah Menu Detail ")]))])]))],64)),a(ee,{id:"MenuDetailModal",title:U.value,description:F.value,"validation-errors-from-parent":s(N)},{default:f(()=>[e("form",{onSubmit:t[13]||(t[13]=W(o=>s(l).saveMenuDetail(),["prevent"]))},[e("div",Te,[e("div",Re,[e("div",$e,[w(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=o=>s(n).name=o),placeholder:"Masukkan nama menu detail",required:""},null,512),[[M,s(n).name]]),t[28]||(t[28]=e("label",null,"Nama Menu Detail",-1))])]),e("div",Le,[e("div",Ne,[w(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=o=>s(n).route=o),placeholder:"Masukkan nama route"},null,512),[[M,s(n).route]]),t[29]||(t[29]=e("label",null,"Route",-1))])]),e("div",Be,[e("div",Ee,[w(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=o=>s(n).order=o),placeholder:"Masukkan urutan",onInput:t[9]||(t[9]=o=>s(n).order=o.target.value.replace(/[^0-9]/g,"")),inputmode:"numeric",pattern:"[0-9]*",required:""},null,544),[[M,s(n).order]]),t[30]||(t[30]=e("label",null,"Order",-1))])]),e("div",Ue,[e("div",Fe,[a(s(T),{modelValue:s(n).status,"onUpdate:modelValue":t[10]||(t[10]=o=>s(n).status=o),options:E.value,label:"label",reduce:o=>o.value,placeholder:"-- Pilih Status --",class:"select-status"},null,8,["modelValue","options","reduce"])])]),e("div",Ge,[e("div",je,[a(s(T),{modelValue:s(n).menuGroupId,"onUpdate:modelValue":t[11]||(t[11]=o=>s(n).menuGroupId=o),options:s(k),label:"name",reduce:o=>o.id,disabled:s(k).length===0,placeholder:"-- Pilih Menu Group --",class:"select-menu-group"},null,8,["modelValue","options","reduce","disabled"]),s(k).length===0?(r(),d("p",Ae,"Memuat data menu group...")):y("",!0)])])]),e("div",Ie,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[12]||(t[12]=o=>s(l).closeModal())},"Tutup"),e("button",{type:"submit",class:"btn btn-primary",disabled:s(b)},[s(b)?(r(),d("span",qe)):y("",!0),t[31]||(t[31]=c(" Simpan "))],8,Oe)])],32)]),_:1},8,["title","description","validation-errors-from-parent"])]),t[32]||(t[32]=e("div",{class:"content-backdrop fade"},null,-1))]))}},lt=O(ze,[["__scopeId","data-v-ef8e60ba"]]);export{lt as default};
