import{_ as D}from"./6fodeROL.js";import{f as B,s as j,g as C,O as N,K as $,c as i,a as s,i as a,t as n,d as o,y as A,b as l,w as f,o as d,E as b}from"./Bkm6qw8b.js";import{_ as E}from"./DleeVanq.js";import{u as L}from"./CUQ1j-C_.js";import{S as g}from"./9Qm2jZ7z.js";const U={class:"content-wrapper"},P={class:"container-xxl flex-grow-1 container-p-y"},q={key:0,class:"text-center"},G={key:1,class:"alert alert-danger"},I={key:2,class:"row g-6"},M={class:"col-4"},R={class:"card mb-4"},V={class:"card-body"},z={class:"row mt-4"},W={class:"col-12"},J={class:"list-unstyled"},K={class:"mb-2"},O={class:"mb-2"},F={class:"mb-2"},H={class:"mb-2"},Q={class:"mb-2"},X={class:"mb-2"},Y={class:"col-8"},Z={class:"card mb-4"},ss={class:"card-body"},ts={class:"d-flex justify-content-between align-items-start"},as={class:"mb-1"},es={class:"row mt-4"},ns={class:"col-md-6"},os={class:"list-unstyled"},rs={class:"mb-2"},is={class:"mb-2"},ls={class:"mb-2"},ds={class:"col-12"},cs={class:"card"},us={class:"card-datatable table-responsive py-3 px-3"},ms={key:3,class:"alert alert-danger",role:"alert"},ys={__name:"stock-transfer-detail",setup(fs){const{$api:bs}=B(),w=N(),c=L(),{selectedStockTransfer:e,loading:k,error:_}=j(c);C(async()=>{const r=w.query.id;if(r)try{await c.fetchStockTransferById(r)}catch(t){g.fire("Error",t.message||"Gagal memuat detail stock transfer.","error")}else g.fire("Error","ID Stock Transfer tidak ditemukan di URL.","error")}),$(()=>{c.resetStockTransfer()});const h=r=>({draft:"bg-label-secondary",approved:"bg-label-success",rejected:"bg-label-danger"})[r]||"bg-label-info",x=r=>{if(r){const u=`${window.location.origin}/inventory/cetak-stock-transfer?id=${r}`;window.open(u,"_blank")}else g.fire("Error","ID Stock Transfer tidak ditemukan.","error")};return(r,t)=>{var p,v,y,S,T;const u=D;return d(),i("div",U,[s("div",P,[t[17]||(t[17]=s("h4",{class:"mb-1"},"Detail Stock Transfer",-1)),t[18]||(t[18]=s("p",{class:"mb-6"}," Berikut di bawah ini data detail stock transfer ",-1)),a(k)?(d(),i("div",q,t[1]||(t[1]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1)]))):a(_)?(d(),i("div",G,n(a(_).message),1)):a(e)?(d(),i("div",I,[s("div",M,[s("div",R,[s("div",V,[t[9]||(t[9]=s("div",{class:"d-flex justify-content-between align-items-start"},[s("div",null,[s("h5",{class:"mb-1"}," Detail Stock Transfer ")])],-1)),s("div",z,[s("div",W,[s("ul",J,[s("li",K,[t[2]||(t[2]=s("strong",null,"Perusahaan:",-1)),o(" "+n((p=a(e).perusahaan)==null?void 0:p.nmPerusahaan),1)]),s("li",O,[t[3]||(t[3]=s("strong",null,"Cabang:",-1)),o(" "+n((v=a(e).cabang)==null?void 0:v.nmCabang),1)]),s("li",F,[t[4]||(t[4]=s("strong",null,"Tanggal:",-1)),o(" "+n(new Date(a(e).date).toLocaleDateString()),1)]),s("li",H,[t[5]||(t[5]=s("strong",null,"Gudang Asal:",-1)),o(" "+n((y=a(e).fromWarehouse)==null?void 0:y.name),1)]),s("li",Q,[t[6]||(t[6]=s("strong",null,"Gudang Tujuan:",-1)),o(" "+n((S=a(e).toWarehouse)==null?void 0:S.name),1)]),s("li",X,[t[7]||(t[7]=s("strong",null,"Status:",-1)),t[8]||(t[8]=o()),s("span",{class:A(["badge",h(a(e).status)])},n(a(e).status),3)])])])])])])]),s("div",Y,[s("div",Z,[s("div",ss,[s("div",ts,[s("div",null,[s("h5",as,"Nomor Stock Transfer: "+n(a(e).noTransfer),1),t[10]||(t[10]=s("p",{class:"text-muted mb-0",style:{"font-size":"0.95em"}}," Berikut adalah informasi singkat mengenai dokumen Stock Transfer ini, termasuk nomor ST, tanggal, gudang asal, gudang tujuan, dan status terkini. Pastikan data sudah sesuai sebelum melakukan proses lebih lanjut. ",-1))]),l(u,{to:"/inventory/stock-transfer",class:"btn btn-sm btn-primary"},{default:f(()=>t[11]||(t[11]=[s("i",{class:"ri-arrow-left-line me-1"},null,-1)])),_:1,__:[11]})]),s("div",es,[s("div",ns,[s("ul",os,[s("li",rs,[t[12]||(t[12]=s("strong",null,"Transfer by:",-1)),o(" "+n(((T=a(e).transferByUser)==null?void 0:T.fullName)||"-"),1)]),s("li",is,[t[13]||(t[13]=s("strong",null,"Description:",-1)),o(" "+n(a(e).description||"-"),1)]),s("li",ls,[t[14]||(t[14]=s("strong",null,"Transfer At:",-1)),o(" "+n(new Date(a(e).createdAt).toLocaleDateString()),1)])]),s("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=m=>x(a(e).id)),class:"btn btn-sm btn-secondary mt-2"},t[15]||(t[15]=[s("i",{class:"ri-printer-line me-1"},null,-1),o(" Cetak Berita Acara ")]))])])])])]),s("div",ds,[s("div",cs,[t[16]||(t[16]=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},"Daftar Produk")],-1)),s("div",us,[l(E,{data:a(e).stockTransferDetails||[],loading:a(k)},{default:f(()=>[l(a(b),{field:"product.name",header:"Produk",sortable:!0}),l(a(b),{field:"description",header:"Deskripsi",sortable:!0}),l(a(b),{header:"Jumlah",sortable:!1},{body:f(m=>[o(n(m.data.quantity!==null?String(m.data.quantity).replace(/\.00$/,""):0),1)]),_:1})]),_:1},8,["data","loading"])])])])])):(d(),i("div",ms," Stock Transfer tidak ditemukan. "))])])}}};export{ys as default};
