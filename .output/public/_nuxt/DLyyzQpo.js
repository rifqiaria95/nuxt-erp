import{j as b,s as B,k as w,g as F,l as x,c as k,a as e,b as l,i as o,d as f,w as v,o as S,q as j,v as q,E as m,z as A,A as _,B as h,n as z}from"./Bkm6qw8b.js";import{_ as J}from"./BAMzpvu1.js";import{_ as O}from"./DleeVanq.js";import{u as G}from"./Bn3XTIwX.js";import{u as H}from"./CI-DMe-d.js";import"./9Qm2jZ7z.js";const K={class:"content-wrapper"},Q={class:"container-xxl flex-grow-1 container-p-y"},W={class:"row g-6"},X={class:"col-12"},Y={class:"card"},Z={class:"card-header d-flex justify-content-between align-items-center flex-wrap"},I={class:"d-flex align-items-center me-3 mb-2 mb-md-0"},tt={class:"d-flex align-items-center"},et={class:"btn-group me-2"},ot={class:"btn-group me-2"},st={class:"dropdown-menu"},at={class:"p-input-icon-left"},nt={class:"card-datatable table-responsive py-3 px-3"},lt=["onClick"],it=["onClick"],rt={class:"row g-4"},dt={class:"col-md-6"},ut={class:"form-floating form-floating-outline"},mt={class:"col-md-6"},pt={class:"form-floating form-floating-outline"},ct={class:"modal-footer mt-6"},bt=["disabled"],ft={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_t={__name:"unit",setup(vt){const p=b(null),n=G(),{units:C,loading:c,totalRecords:P,params:r,form:d,isEditMode:g,showModal:V,validationErrors:M}=B(n),u=b(""),T=b([10,25,50,100]),U=w(()=>g.value?"Edit Satuan":"Tambah Satuan"),$=w(()=>g.value?"Ubah detail satuan.":"Isi untuk menambah satuan baru.");let i=null;F(()=>{n.fetchUnit();const a=document.getElementById("UnitModal");a&&(i=new bootstrap.Modal(a))}),x(V,a=>{a?i==null||i.show():i==null||i.hide()});const R=H(()=>{n.setSearch(u.value)},500);x(u,R);const D=a=>n.setPagination(a),E=()=>{r.value.first=0,n.fetchUnit()},L=a=>n.setSort(a),y=a=>{a==="csv"?p.value.exportCSV():a==="pdf"&&p.value.exportPDF()};return(a,t)=>(S(),k("div",K,[e("div",Q,[e("div",W,[t[17]||(t[17]=e("div",{class:"col-12"},[e("h4",{class:"mt-6 mb-1"},"Total Satuan"),e("p",{class:"mb-0"},"Find all of your company's administrator accounts and their associate Satuan.")],-1)),e("div",X,[e("div",Y,[e("div",Z,[e("div",I,[t[11]||(t[11]=e("span",{class:"me-2"},"Baris:",-1)),l(o(j),{modelValue:o(r).rows,"onUpdate:modelValue":t[0]||(t[0]=s=>o(r).rows=s),options:T.value,onChange:E,placeholder:"Jumlah",style:{width:"8rem"}},null,8,["modelValue","options"])]),e("div",tt,[e("div",et,[e("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=s=>o(n).openModal())},t[12]||(t[12]=[e("i",{class:"ri-add-line me-1"},null,-1),f(" Tambah ")]))]),e("div",ot,[t[13]||(t[13]=e("button",{class:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"ri-upload-2-line me-1"}),f(" Export ")],-1)),e("ul",st,[e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:t[2]||(t[2]=s=>y("csv"))},"CSV")]),e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:t[3]||(t[3]=s=>y("pdf"))},"PDF")])])]),e("span",at,[t[14]||(t[14]=e("i",{class:"ri-search-line"},null,-1)),l(o(q),{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=s=>u.value=s),placeholder:"Cari Satuan...",class:"w-full md:w-20rem"},null,8,["modelValue"])])])]),e("div",nt,[l(O,{ref_key:"myDataTableRef",ref:p,data:o(C),rows:o(r).rows,loading:o(c),totalRecords:o(P),lazy:!0,onPage:t[5]||(t[5]=s=>D(s)),onSort:t[6]||(t[6]=s=>L(s)),responsiveLayout:"scroll",paginatorPosition:"bottom",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",currentPageReportTemplate:"Menampilkan {first} sampai {last} dari {totalRecords} data"},{default:v(()=>[l(o(m),{field:"id",header:"#",sortable:!0}),l(o(m),{field:"name",header:"Nama Satuan",sortable:!0}),l(o(m),{field:"symbol",header:"Simbol",sortable:!0}),l(o(m),{header:"Actions",exportable:!1,style:{"min-width":"8rem"}},{body:v(s=>[e("button",{onClick:N=>o(n).openModal(s.data),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon me-2"},t[15]||(t[15]=[e("i",{class:"ri-edit-box-line ri-20px"},null,-1)]),8,lt),e("button",{onClick:N=>o(n).deleteUnit(s.data.id),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon"},t[16]||(t[16]=[e("i",{class:"ri-delete-bin-7-line ri-20px"},null,-1)]),8,it)]),_:1})]),_:1},8,["data","rows","loading","totalRecords"])])])])]),l(J,{id:"UnitModal",title:U.value,description:$.value,"validation-errors-from-parent":o(M)},{default:v(()=>[e("form",{onSubmit:t[10]||(t[10]=A(s=>o(n).saveUnit(),["prevent"]))},[e("div",rt,[e("div",dt,[e("div",ut,[_(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=s=>o(d).name=s),placeholder:"Masukkan nama unit",required:""},null,512),[[h,o(d).name]]),t[18]||(t[18]=e("label",null,"Nama Satuan",-1))])]),e("div",mt,[e("div",pt,[_(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=s=>o(d).symbol=s),placeholder:"Masukkan simbol unit",required:""},null,512),[[h,o(d).symbol]]),t[19]||(t[19]=e("label",null,"Simbol Satuan",-1))])])]),e("div",ct,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[9]||(t[9]=s=>o(n).closeModal())},"Tutup"),e("button",{type:"submit",class:"btn btn-primary",disabled:o(c)},[o(c)?(S(),k("span",ft)):z("",!0),t[20]||(t[20]=f(" Simpan "))],8,bt)])],32)]),_:1},8,["title","description","validation-errors-from-parent"])]),t[21]||(t[21]=e("div",{class:"content-backdrop fade"},null,-1))]))}};export{_t as default};
