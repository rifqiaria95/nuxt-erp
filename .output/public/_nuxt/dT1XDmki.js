import{j as b,s as F,k as v,g as W,l as _,c as C,a as t,b as n,m as j,n as M,i as e,d as V,w as k,o as w,q as z,v as K,E as r,z as J,A as u,B as m}from"./Bkm6qw8b.js";import{_ as O}from"./BAMzpvu1.js";import{_ as T}from"./CdgIhitS.js";import{_ as H}from"./DleeVanq.js";import{u as Q}from"./WyHMcmGb.js";import{u as X}from"./CI-DMe-d.js";import"./D1pefl20.js";import"./9Qm2jZ7z.js";const Y={class:"content-wrapper"},Z={class:"container-xxl flex-grow-1 container-p-y"},I={class:"row g-6 mb-6"},oo={class:"row g-6"},to={class:"col-12"},eo={class:"card"},ao={class:"card-header d-flex justify-content-between align-items-center flex-wrap"},so={class:"d-flex align-items-center me-3 mb-2 mb-md-0"},no={class:"d-flex align-items-center"},lo={class:"btn-group me-2"},io={class:"dropdown-menu"},ro={class:"input-group"},uo={class:"p-input-icon-left"},mo={class:"card-datatable table-responsive py-3 px-3"},po=["onClick"],go=["onClick"],co={class:"row g-6"},fo={class:"col-md-6"},bo={class:"form-floating form-floating-outline"},vo={class:"col-md-6"},ko={class:"form-floating form-floating-outline"},wo={class:"col-md-6"},ho={class:"form-floating form-floating-outline"},xo={class:"col-md-6"},yo={class:"form-floating form-floating-outline"},Go={class:"col-md-12"},_o={class:"form-floating form-floating-outline"},Co={class:"modal-footer mt-6"},Mo=["disabled"],Vo={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Do={__name:"gudang",setup(To){const h=b(null),s=Q(),{warehouses:P,loading:f,stats:p,totalRecords:S,params:g,form:d,isEditMode:x,showModal:$,validationErrors:B}=F(s),c=b(""),y=v(()=>p.value.total!==void 0?"col-6":"col-xl-4 col-lg-6 col-md-6"),E=b([10,25,50,100]),R=v(()=>x.value?"Edit Gudang":"Tambah Gudang"),L=v(()=>x.value?"Silakan ubah data gudang di bawah ini.":"Silakan isi form di bawah ini untuk menambahkan gudang baru.");let i=null;W(()=>{s.fetchWarehouses(),s.fetchStats();const l=document.getElementById("Modal");l&&(i=new bootstrap.Modal(l))}),_($,l=>{l?i==null||i.show():i==null||i.hide()});const N=X(()=>{s.setSearch(c.value)},500);_(c,N);const D=l=>s.setPagination(l),U=()=>{g.value.first=0,s.fetchWarehouses()},A=l=>s.setSort(l),G=l=>{l==="csv"&&h.value.exportCSV()};return(l,o)=>(w(),C("div",Y,[t("div",Z,[o[25]||(o[25]=t("h4",{class:"mb-1"},"List Gudang",-1)),o[26]||(o[26]=t("p",{class:"mb-6"}," List warehouse yang terdaftar di sistem ",-1)),t("div",I,[e(p).total!==void 0?(w(),j(T,{key:0,title:"Total Gudang",total:e(p).total!==void 0?e(p).total+" Gudang":"Memuat...","column-class":y.value},null,8,["total","column-class"])):M("",!0),n(T,{isAddButtonCard:!0,"image-src":"/img/illustrations/add-new-role-illustration.png","image-alt":"Tambah Gudang","button-text":"Tambah Gudang","modal-target":"#Modal",onButtonClick:o[0]||(o[0]=a=>e(s).openModal()),"column-class":y.value},null,8,["column-class"])]),t("div",oo,[o[18]||(o[18]=t("div",{class:"col-12"},[t("h4",{class:"mt-6 mb-1"},"Total Gudang"),t("p",{class:"mb-0"},"Find all of your company's administrator accounts and their associate Gudang.")],-1)),t("div",to,[t("div",eo,[t("div",ao,[t("div",so,[o[14]||(o[14]=t("span",{class:"me-2"},"Baris:",-1)),n(e(z),{modelValue:e(g).rows,"onUpdate:modelValue":o[1]||(o[1]=a=>e(g).rows=a),options:E.value,onChange:U,placeholder:"Jumlah",style:{width:"8rem"}},null,8,["modelValue","options"])]),t("div",no,[t("div",lo,[o[15]||(o[15]=t("button",{class:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"ri-upload-2-line me-1"}),V(" Export ")],-1)),t("ul",io,[t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:o[2]||(o[2]=a=>G("csv"))},"CSV")]),t("li",null,[t("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:o[3]||(o[3]=a=>G("pdf"))},"PDF")])])]),t("div",ro,[t("span",uo,[n(e(K),{modelValue:c.value,"onUpdate:modelValue":o[4]||(o[4]=a=>c.value=a),placeholder:"Cari Gudang...",class:"w-full md:w-20rem"},null,8,["modelValue"])])])])]),t("div",mo,[n(H,{ref_key:"myDataTableRef",ref:h,data:e(P),rows:e(g).rows,loading:e(f),totalRecords:e(S),lazy:!0,onPage:o[5]||(o[5]=a=>D(a)),onSort:o[6]||(o[6]=a=>A(a)),responsiveLayout:"scroll",paginatorPosition:"bottom",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",currentPageReportTemplate:"Menampilkan {first} sampai {last} dari {totalRecords} data"},{default:k(()=>[n(e(r),{field:"id",header:"#",sortable:!0}),n(e(r),{field:"code",header:"Kode Gudang",sortable:!0}),n(e(r),{field:"name",header:"Nama Gudang",sortable:!0}),n(e(r),{field:"address",header:"Alamat Gudang",sortable:!0}),n(e(r),{field:"phone",header:"No. Telepon Gudang",sortable:!0}),n(e(r),{field:"email",header:"Email Gudang",sortable:!0}),n(e(r),{header:"Actions",exportable:!1,style:{"min-width":"8rem"}},{body:k(a=>[t("button",{onClick:q=>e(s).openModal(a.data),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon me-2"},o[16]||(o[16]=[t("i",{class:"ri-edit-box-line"},null,-1)]),8,po),t("button",{onClick:q=>e(s).deleteWarehouse(a.data.id),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon"},o[17]||(o[17]=[t("i",{class:"ri-delete-bin-7-line"},null,-1)]),8,go)]),_:1})]),_:1},8,["data","rows","loading","totalRecords"])])])])]),n(O,{id:"Modal",title:R.value,description:L.value,"validation-errors-from-parent":e(B)},{default:k(()=>[t("form",{onSubmit:o[13]||(o[13]=J(a=>e(s).saveWarehouse(),["prevent"]))},[t("div",co,[t("div",fo,[t("div",bo,[u(t("input",{type:"text",class:"form-control",id:"kodeGudang","onUpdate:modelValue":o[7]||(o[7]=a=>e(d).code=a),placeholder:"Masukkan kode gudang",required:""},null,512),[[m,e(d).code]]),o[19]||(o[19]=t("label",{for:"kodeGudang"},"Kode Gudang",-1))])]),t("div",vo,[t("div",ko,[u(t("input",{type:"text",class:"form-control",id:"nmGudang","onUpdate:modelValue":o[8]||(o[8]=a=>e(d).name=a),placeholder:"Masukkan nama gudang",required:""},null,512),[[m,e(d).name]]),o[20]||(o[20]=t("label",{for:"nmGudang"},"Nama Gudang",-1))])]),t("div",wo,[t("div",ho,[u(t("input",{type:"email",class:"form-control",id:"emailGudang","onUpdate:modelValue":o[9]||(o[9]=a=>e(d).email=a),placeholder:"Masukkan email gudang",required:""},null,512),[[m,e(d).email]]),o[21]||(o[21]=t("label",{for:"emailGudang"},"Email Gudang",-1))])]),t("div",xo,[t("div",yo,[u(t("input",{type:"text",class:"form-control",id:"phoneGudang","onUpdate:modelValue":o[10]||(o[10]=a=>e(d).phone=a),placeholder:"Masukkan no. telepon gudang",required:""},null,512),[[m,e(d).phone]]),o[22]||(o[22]=t("label",{for:"phoneGudang"},"No. Telepon Gudang",-1))])]),t("div",Go,[t("div",_o,[u(t("textarea",{class:"form-control h-px-100",id:"alamatGudang",placeholder:"Masukkan alamat gudang","onUpdate:modelValue":o[11]||(o[11]=a=>e(d).address=a)},"                                    ",512),[[m,e(d).address]]),o[23]||(o[23]=t("label",{for:"alamatGudang"},"Alamat Gudang",-1))])])]),t("div",Co,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:o[12]||(o[12]=a=>e(s).closeModal())},"Tutup"),t("button",{type:"submit",class:"btn btn-primary",disabled:e(f)},[e(f)?(w(),C("span",Vo)):M("",!0),o[24]||(o[24]=V(" Simpan "))],8,Mo)])],32)]),_:1},8,["title","description","validation-errors-from-parent"])]),o[27]||(o[27]=t("div",{class:"content-backdrop fade"},null,-1))]))}};export{Do as default};
