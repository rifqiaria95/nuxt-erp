import{j as k,s as A,k as w,g as F,l as x,c as h,a as t,b as n,m as u,n as m,i as o,w as y,o as d,q as j,v as q,E as b,z,A as K,B as P,d as O}from"./Bkm6qw8b.js";import{_ as J}from"./mvyRji1Y.js";import{_ as G}from"./BAMzpvu1.js";import{_ as p}from"./CdgIhitS.js";import{_ as H}from"./DleeVanq.js";import{u as I}from"./B7H6Ax0s.js";import{u as Q}from"./CI-DMe-d.js";import"./D1pefl20.js";import"./9Qm2jZ7z.js";const W={class:"content-wrapper"},X={class:"container-xxl flex-grow-1 container-p-y"},Y={class:"row g-6 mb-6"},Z={class:"col-xl-4 col-lg-6 col-md-6"},tt={class:"card h-100"},et={class:"row h-100"},ot={class:"col-sm-7"},st={class:"card-body text-sm-end text-center ps-sm-0"},at={class:"row g-6"},lt={class:"col-12"},it={class:"card"},nt={class:"card-header d-flex justify-content-between align-items-center flex-wrap"},rt={class:"d-flex align-items-center me-3 mb-2 mb-md-0"},dt={class:"d-flex align-items-center"},mt={class:"p-input-icon-left"},ut={class:"card-datatable table-responsive py-3 px-3"},pt=["onClick"],ct=["onClick"],gt={class:"row g-4"},ft={class:"col-md-6"},bt={class:"form-floating form-floating-outline"},vt={class:"col-md-6"},kt={class:"form-floating form-floating-outline"},yt={class:"modal-footer mt-6"},_t=["disabled"],wt={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},$t={__name:"kategori",setup(xt){const C=k(null),a=I(),{kategori:M,loading:v,stats:l,totalRecords:T,params:c,form:g,isEditMode:_,showModal:V,validationErrors:S}=A(a),f=k(""),R=k([10,25,50,100]),$=w(()=>_.value?"Edit Kategori":"Tambah Kategori"),B=w(()=>_.value?"Ubah detail kategori.":"Isi untuk menambah kategori baru.");let r=null;F(()=>{a.fetchKategori(),a.fetchStats();const i=document.getElementById("KategoriModal");i&&(r=new bootstrap.Modal(i))}),x(V,i=>{i?r==null||r.show():r==null||r.hide()});const L=Q(()=>{a.setSearch(f.value)},500);x(f,L);const D=i=>a.setPagination(i),E=()=>{c.value.first=0,a.fetchKategori()},N=i=>a.setSort(i);return(i,e)=>(d(),h("div",W,[t("div",X,[e[19]||(e[19]=t("h4",{class:"mb-1"},"List Kategori",-1)),e[20]||(e[20]=t("p",{class:"mb-6"}," List category yang terdaftar di sistem ",-1)),t("div",Y,[o(l).total!==void 0?(d(),u(p,{key:0,title:"Total Kategori",total:o(l).total+" Kategori"},null,8,["total"])):m("",!0),o(l).sparepart!==void 0?(d(),u(p,{key:1,title:"Sparepart",total:o(l).sparepart+" Produk"},null,8,["total"])):m("",!0),o(l).oli!==void 0?(d(),u(p,{key:2,title:"Oli",total:o(l).oli+" Produk"},null,8,["total"])):m("",!0),o(l).alat_berat!==void 0?(d(),u(p,{key:3,title:"Alat Berat",total:o(l).alat_berat+" Produk"},null,8,["total"])):m("",!0),o(l).tooling!==void 0?(d(),u(p,{key:4,title:"Tooling",total:o(l).tooling+" Produk"},null,8,["total"])):m("",!0),t("div",Z,[t("div",tt,[t("div",et,[e[10]||(e[10]=t("div",{class:"col-sm-5"},[t("div",{class:"d-flex align-items-end h-100 justify-content-center"},[t("img",{src:J,class:"img-fluid",alt:"Image",width:"70"})])],-1)),t("div",ot,[t("div",st,[t("button",{onClick:e[0]||(e[0]=s=>o(a).openModal()),class:"btn btn-primary mb-2 text-nowrap add-new-role"}," Tambah Kategori "),e[9]||(e[9]=t("p",{class:"mb-0 mt-1"},"Buat Kategori baru",-1))])])])])])]),t("div",at,[e[15]||(e[15]=t("div",{class:"col-12"},[t("h4",{class:"mt-6 mb-1"},"Total Kategori"),t("p",{class:"mb-0"},"Find all of your company's administrator accounts and their associate Kategori.")],-1)),t("div",lt,[t("div",it,[t("div",nt,[t("div",rt,[e[11]||(e[11]=t("span",{class:"me-2"},"Baris:",-1)),n(o(j),{modelValue:o(c).rows,"onUpdate:modelValue":e[1]||(e[1]=s=>o(c).rows=s),options:R.value,onChange:E,placeholder:"Jumlah",style:{width:"8rem"}},null,8,["modelValue","options"])]),t("div",dt,[t("span",mt,[e[12]||(e[12]=t("i",{class:"ri-search-line"},null,-1)),n(o(q),{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),placeholder:"Cari Kategori...",class:"w-full md:w-20rem"},null,8,["modelValue"])])])]),t("div",ut,[n(H,{ref_key:"myDataTableRef",ref:C,data:o(M),rows:o(c).rows,loading:o(v),totalRecords:o(T),lazy:!0,onPage:e[3]||(e[3]=s=>D(s)),onSort:e[4]||(e[4]=s=>N(s)),paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",currentPageReportTemplate:"Menampilkan {first} sampai {last} dari {totalRecords} data"},{default:y(()=>[n(o(b),{field:"id",header:"#",sortable:!0}),n(o(b),{field:"name",header:"Nama Category",sortable:!0}),n(o(b),{field:"description",header:"Deskripsi",sortable:!0}),n(o(b),{header:"Actions",exportable:!1,style:{"min-width":"8rem"}},{body:y(s=>[t("button",{onClick:U=>o(a).openModal(s.data),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon me-2"},e[13]||(e[13]=[t("i",{class:"ri-edit-box-line ri-20px"},null,-1)]),8,pt),t("button",{onClick:U=>o(a).deleteKategori(s.data.id),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon"},e[14]||(e[14]=[t("i",{class:"ri-delete-bin-7-line ri-20px"},null,-1)]),8,ct)]),_:1})]),_:1},8,["data","rows","loading","totalRecords"])])])])]),n(G,{id:"KategoriModal",title:$.value,description:B.value,"validation-errors-from-parent":o(S)},{default:y(()=>[t("form",{onSubmit:e[8]||(e[8]=z(s=>o(a).saveKategori(),["prevent"]))},[t("div",gt,[t("div",ft,[t("div",bt,[K(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=s=>o(g).name=s),placeholder:"Masukkan nama category",required:""},null,512),[[P,o(g).name]]),e[16]||(e[16]=t("label",null,"Nama Category",-1))])]),t("div",vt,[t("div",kt,[K(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=s=>o(g).description=s),placeholder:"Masukkan deskripsi category",required:""},null,512),[[P,o(g).description]]),e[17]||(e[17]=t("label",null,"Deskripsi Category",-1))])])]),t("div",yt,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[7]||(e[7]=s=>o(a).closeModal())},"Tutup"),t("button",{type:"submit",class:"btn btn-primary",disabled:o(v)},[o(v)?(d(),h("span",wt)):m("",!0),e[18]||(e[18]=O(" Simpan "))],8,_t)])],32)]),_:1},8,["title","description","validation-errors-from-parent"])]),e[21]||(e[21]=t("div",{class:"content-backdrop fade"},null,-1))]))}};export{$t as default};
