import{ao as n,$ as a,f as c,ap as l}from"./Bkm6qw8b.js";const i=n(async(u,s)=>{let o,r;{if(!localStorage.getItem("token"))return setTimeout(()=>{document.querySelectorAll(".layout-wrapper, .layout-content-navbar").forEach(e=>e.remove())},0),a("/errors/401");try{const e=localStorage.getItem("token"),{$api:t}=c();[o,r]=l(()=>$fetch(t.me(),{headers:{Authorization:`Bearer ${e}`},credentials:"include"})),await o,r()}catch{return localStorage.removeItem("token"),setTimeout(()=>{document.querySelectorAll(".layout-wrapper, .layout-content-navbar").forEach(t=>t.remove())},0),a("/errors/401")}}});export{i as default};
