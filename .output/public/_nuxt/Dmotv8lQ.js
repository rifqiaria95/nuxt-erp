import{_ as A,j as v,s as E,k as w,g as N,l as h,c as d,a as t,b as l,i as s,F as U,w as g,d as f,o as u,q as F,v as I,E as m,y as q,t as z,z as J,A as y,B as x,n as O}from"./Bkm6qw8b.js";import{_ as H}from"./mvyRji1Y.js";import{_ as K}from"./X_GiR0ue.js";import{_ as Q}from"./BAMzpvu1.js";import{_ as W}from"./DleeVanq.js";import{u as X}from"./Drh9hcrB.js";import{C as Y}from"./D9zIpW-x.js";import{u as Z}from"./CI-DMe-d.js";import"./9Qm2jZ7z.js";const ee={class:"content-wrapper"},te={class:"container-xxl flex-grow-1 container-p-y"},se={key:0},oe={key:0},ae={class:"row g-6 mb-6"},ne={class:"col-xl-4 col-lg-6 col-md-6"},le={class:"card h-100"},re={class:"row h-100"},ie={class:"col-sm-7"},de={class:"card-body text-sm-end text-center ps-sm-0"},ue={class:"row g-6"},me={class:"col-12"},pe={class:"card"},ce={class:"card-header d-flex justify-content-between align-items-center flex-wrap"},be={class:"d-flex align-items-center me-3 mb-2 mb-md-0"},ge={class:"d-flex align-items-center"},fe={class:"p-input-icon-left"},ve={class:"card-datatable table-responsive py-3 px-3"},ye=["onClick"],xe=["onClick"],Me={key:1,class:"text-center"},_e={class:"d-flex flex-column align-items-center"},ke={class:"row g-6"},we={class:"col-md-6"},he={class:"form-floating form-floating-outline"},Ge={class:"col-md-6"},Ce={class:"form-floating form-floating-outline"},Ve={class:"col-md-6"},Se={class:"form-floating form-floating-outline"},Pe={class:"col-md-6"},Te={class:"form-floating form-floating-outline"},Re={class:"modal-footer mt-6"},$e=["disabled"],je={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Be={__name:"menu-group",setup(De){const G=v(null),a=X(),{menuGroups:M,loading:p,totalRecords:C,params:c,form:r,isEditMode:_,showModal:V,validationErrors:S}=E(a),b=v(""),P=v([10,25,50,100]),T=w(()=>_.value?"Edit Menu Group":"Tambah Menu Group"),R=w(()=>_.value?"Ubah detail menu group.":"Isi untuk menambah menu group baru.");let i=null;N(()=>{a.menuGroups.length===0&&a.fetchMenuGroups();const n=document.getElementById("MenuGroupModal");n&&(i=new bootstrap.Modal(n))}),h(V,n=>{n?i==null||i.show():i==null||i.hide()});const $=Z(()=>{a.setSearch(b.value)},500);h(b,$);const j=n=>a.setPagination(n),B=()=>{c.value.first=0,a.fetchMenuGroups()},D=n=>a.setSort(n),k=n=>{switch(n){case 1:return{text:"Purchasing",class:"badge rounded-pill bg-label-primary"};case 2:return{text:"HRD",class:"badge rounded-pill bg-label-secondary"};case 3:return{text:"Accounting",class:"badge rounded-pill bg-label-warning text-dark"};case 4:return{text:"Inventory",class:"badge rounded-pill bg-label-info"};case 5:return{text:"Sales",class:"badge rounded-pill bg-label-success"};case 6:return{text:"Company",class:"badge rounded-pill bg-label-info"};case 7:return{text:"Admin",class:"badge rounded-pill bg-label-danger"};default:return{text:"-",class:"badge rounded-pill bg-label-light"}}};return(n,e)=>(u(),d("div",ee,[t("div",te,[s(p)?(u(),d("div",se,e[13]||(e[13]=[t("div",{class:"animate-pulse space-y-2"},[t("div",{class:"h-6 bg-gray-200 rounded"}),t("div",{class:"h-6 bg-gray-200 rounded w-1/2"})],-1)]))):(u(),d(U,{key:1},[s(M).length>0?(u(),d("div",oe,[e[20]||(e[20]=t("h4",{class:"mb-1"},"Menu Group List",-1)),e[21]||(e[21]=t("p",{class:"mb-6"}," List menu group yang terdaftar di sistem ",-1)),t("div",ae,[t("div",ne,[t("div",le,[t("div",re,[e[15]||(e[15]=t("div",{class:"col-sm-5"},[t("div",{class:"d-flex align-items-end h-100 justify-content-center"},[t("img",{src:H,class:"img-fluid",alt:"Image",width:"70"})])],-1)),t("div",ie,[t("div",de,[t("button",{onClick:e[0]||(e[0]=o=>s(a).openModal()),class:"btn btn-primary mb-2 text-nowrap add-new-role"}," Tambah Menu Group "),e[14]||(e[14]=t("p",{class:"mb-0 mt-1"},"Buat Menu Group baru",-1))])])])])])]),t("div",ue,[e[19]||(e[19]=t("div",{class:"col-12"},[t("h4",{class:"mt-6 mb-1"},"Total Menu Group"),t("p",{class:"mb-0"},"Find all of your company's administrator accounts and their associate Menu Group.")],-1)),t("div",me,[t("div",pe,[t("div",ce,[t("div",be,[e[16]||(e[16]=t("span",{class:"me-2"},"Baris:",-1)),l(s(F),{modelValue:s(c).rows,"onUpdate:modelValue":e[1]||(e[1]=o=>s(c).rows=o),options:P.value,onChange:B,placeholder:"Jumlah",style:{width:"8rem"}},null,8,["modelValue","options"])]),t("div",ge,[t("span",fe,[l(s(I),{modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=o=>b.value=o),placeholder:"Cari Menu Group...",class:"w-full md:w-20rem"},null,8,["modelValue"])])])]),t("div",ve,[l(W,{ref_key:"myDataTableRef",ref:G,data:s(M),rows:s(c).rows,loading:s(p),totalRecords:s(C),lazy:!0,onPage:e[3]||(e[3]=o=>j(o)),onSort:e[4]||(e[4]=o=>D(o)),paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",currentPageReportTemplate:"Menampilkan {first} sampai {last} dari {totalRecords} data"},{default:g(()=>[l(s(m),{field:"id",header:"#",sortable:!0}),l(s(m),{field:"name",header:"Nama Menu Group",sortable:!0}),l(s(m),{field:"icon",header:"Icon",sortable:!0}),l(s(m),{field:"order",header:"Order",sortable:!0}),l(s(m),{field:"jenisMenu",header:"Jenis Menu",sortable:!0},{body:g(o=>[t("span",{class:q(k(o.data.jenisMenu).class)},z(k(o.data.jenisMenu).text),3)]),_:1}),l(s(m),{header:"Actions",exportable:!1,style:{"min-width":"8rem"}},{body:g(o=>[t("button",{onClick:L=>s(a).openModal(o.data),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon me-2"},e[17]||(e[17]=[t("i",{class:"ri-edit-box-line ri-20px"},null,-1)]),8,ye),t("button",{onClick:L=>s(a).deleteMenuGroup(o.data.id),class:"btn btn-sm btn-icon btn-text-secondary rounded-pill btn-icon"},e[18]||(e[18]=[t("i",{class:"ri-delete-bin-7-line ri-20px"},null,-1)]),8,xe)]),_:1})]),_:1},8,["data","rows","loading","totalRecords"])])])])])])):(u(),d("div",Me,[t("div",_e,[e[23]||(e[23]=t("img",{src:K,alt:"page-misc-under-maintenance",width:"300",class:"img-fluid"},null,-1)),e[24]||(e[24]=t("h4",{class:"mt-4"},"Tidak ada data Menu Group",-1)),e[25]||(e[25]=t("p",{class:"mb-4"},[f(" Saat ini belum ada data menu group yang tersedia."),t("br"),f(" Silakan buat menu group baru untuk memulai. ")],-1)),t("button",{onClick:e[5]||(e[5]=o=>s(a).openModal()),class:"btn btn-primary"},e[22]||(e[22]=[t("i",{class:"ri-add-line me-1"},null,-1),f(" Tambah Menu Group ")]))])]))],64)),l(Q,{id:"MenuGroupModal",title:T.value,description:R.value,"validation-errors-from-parent":s(S)},{default:g(()=>[t("form",{onSubmit:e[12]||(e[12]=J(o=>s(a).saveMenuGroup(),["prevent"]))},[t("div",ke,[t("div",we,[t("div",he,[y(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=o=>s(r).name=o),placeholder:"Masukkan nama menu group",required:""},null,512),[[x,s(r).name]]),e[26]||(e[26]=t("label",{for:"name"},"Nama Menu Group",-1))])]),t("div",Ge,[t("div",Ce,[y(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=o=>s(r).icon=o),placeholder:"Masukkan nama icon"},null,512),[[x,s(r).icon]]),e[27]||(e[27]=t("label",{for:"icon"},"Icon",-1))])]),t("div",Ve,[t("div",Se,[y(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=o=>s(r).order=o),placeholder:"Masukkan urutan",onInput:e[9]||(e[9]=o=>s(r).order=o.target.value.replace(/[^0-9]/g,"")),inputmode:"numeric",pattern:"[0-9]*",required:""},null,544),[[x,s(r).order]]),e[28]||(e[28]=t("label",{for:"order"},"Order",-1))])]),t("div",Pe,[t("div",Te,[l(s(Y),{modelValue:s(r).jenisMenu,"onUpdate:modelValue":e[10]||(e[10]=o=>s(r).jenisMenu=o),options:[{label:"Purchasing",value:1},{label:"HRD",value:2},{label:"Accounting",value:3},{label:"Inventory",value:4},{label:"Sales",value:5},{label:"Company",value:6},{label:"Admin",value:7}],label:"label",reduce:o=>o.value,placeholder:"-- Pilih Jenis Menu --",class:"select-jenis-menu"},null,8,["modelValue","reduce"])])])]),t("div",Re,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[11]||(e[11]=o=>s(a).closeModal())},"Tutup"),t("button",{type:"submit",class:"btn btn-primary",disabled:s(p)},[s(p)?(u(),d("span",je)):O("",!0),e[29]||(e[29]=f(" Simpan "))],8,$e)])],32)]),_:1},8,["title","description","validation-errors-from-parent"])]),e[30]||(e[30]=t("div",{class:"content-backdrop fade"},null,-1))]))}},Je=A(Be,[["__scopeId","data-v-1f767e9b"]]);export{Je as default};
